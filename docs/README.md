# 重複データ管理システム ドキュメント

このディレクトリには、重複データ管理システムの包括的なドキュメントが格納されています。

## ドキュメント構成

### [01_overview.md](01_overview.md)
プロジェクトの概要、主要機能、技術スタックについて説明します。

**含まれる内容:**
- システム概要と目的
- 重複データ検出の種類（exact/content/status）
- データ管理機能（フィルタリング、ソート、論理削除）
- 技術仕様（FastAPI、PostgreSQL、バニラJS）
- システム要件とセキュリティ考慮事項

### [02_api_reference.md](02_api_reference.md)
RESTful APIの詳細仕様とデータモデル定義。

**含まれる内容:**
- 全APIエンドポイントの仕様
- リクエスト・レスポンス形式
- Pydanticデータモデル
- エラーレスポンス形式
- 認証・認可（現在は未実装）

### [03_database_schema.md](03_database_schema.md)
PostgreSQLデータベースの構造と設計思想。

**含まれる内容:**
- 主要テーブル構造（recepthead、receptbody、exechead、execbody）
- マスターテーブル（m_ctitem、m_emp）
- JOINパターンとクエリ例
- 重複検出ロジックの詳細
- パフォーマンス考慮事項

### [04_development_guide.md](04_development_guide.md)
開発環境のセットアップと開発プロセス。

**含まれる内容:**
- 開発環境セットアップ手順
- プロジェクト構成とコーディング規約
- 新機能開発の段階的手順
- データベース操作のベストプラクティス
- テスト・デバッグ手法
- デプロイ考慮事項

### [05_frontend_architecture.md](05_frontend_architecture.md)
フロントエンドの設計とバニラJavaScript実装。

**含まれる内容:**
- SPA アーキテクチャ設計
- JavaScript クラス構成（DuplicateManagementApp他）
- 分離型キーワード検索と統計情報表示
- データ削除・復元機能の実装
- レスポンシブデザインとUI/UX
- パフォーマンス最適化技術
- セキュリティ対策（XSS防止等）
- ブラウザ対応状況

## LLMが開発を行う際の重要ポイント

### アーキテクチャ理解
1. **レイヤード・アーキテクチャ**: API層 → サービス層 → データ層の分離
2. **データベース設計**: 既存の本番データベース構造に依存
3. **フロントエンド**: フレームワーク非依存のバニラJS実装

### 開発時の注意事項
1. **データ整合性**: 論理削除を使用（物理削除禁止）
2. **パフォーマンス**: 大量データ対応（ページング必須）
3. **セキュリティ**: SQLインジェクション対策（パラメータ化クエリ）
4. **ユーザビリティ**: PC向け設計（1200px以上推奨）

### コード修正時のチェックポイント
- [ ] 型ヒントが適切に設定されている
- [ ] エラーハンドリングが実装されている
- [ ] SQLクエリがパラメータ化されている
- [ ] フロントエンドでXSS対策が実装されている
- [ ] レスポンシブデザインが考慮されている
- [ ] 削除機能で論理削除を使用している（物理削除禁止）
- [ ] 統計情報が正しく計算されている
- [ ] タイムゾーン変換が適切に実装されている

## 関連ファイル

プロジェクトルートの以下のファイルも参照してください：

- **CLAUDE.md**: Claude Code用の簡潔な作業ガイド
- **README.md**: プロジェクトの基本情報と起動手順
- **requirements.txt**: Python依存関係
- **.env**: 環境設定（データベース接続情報等）

## 更新履歴

このドキュメントは、システムの機能拡張や設計変更に合わせて定期的に更新されます。変更があった場合は、該当する章を適宜更新してください。
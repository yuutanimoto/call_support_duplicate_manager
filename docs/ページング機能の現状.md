# ページング機能の現状確認

## 現在の実装状況

### 自動スクロール機能
- **実装あり**: `app.js`の`setupAutoScroll()`メソッドで実装されている
- **動作条件**:
  - テーブルコンテナの下部から200px以内にスクロールしたとき
  - `hasMore`フラグがtrueの場合のみ動作
  - 重複検出モードでは無効化される
  - データ読み込み中は無効化される

### 設定値の管理
- **TableManager**で`autoScroll`設定を管理（デフォルト: true）
- テーブル表示設定ウィンドウで「自動スクロール有効」チェックボックスが存在
- LocalStorageに保存され、永続化される

## 問題点

### 1. 自動スクロール設定が反映されていない
- **現状**: `setupAutoScroll()`は常に動作する
- **問題**: TableManagerの`autoScroll`設定値を参照していない
- **影響**: ユーザーが自動スクロールを無効にしても、実際には有効のまま

### 2. 手動ページング機能の欠如
- **現状**: 自動スクロール以外のページング方法がない
- **問題**: 
  - 「次へ」「前へ」ボタンがない
  - ページ番号表示がない
  - 特定のページにジャンプできない
- **影響**: 自動スクロールが動作しない場合、次のデータを表示する方法がない

### 3. 現在のページ情報が不明
- **現状**: 何件中何件目を表示しているか分からない
- **問題**: ユーザーが現在の位置を把握できない

## コード分析

### app.js (問題箇所)
```javascript
setupAutoScroll() {
    const tableContainer = document.getElementById("table-container");
    
    tableContainer.addEventListener("scroll", () => {
        // TableManagerの設定を確認していない！
        if (this.isDuplicateMode || !this.hasMore || this.isLoading) return;
        
        const { scrollTop, scrollHeight, clientHeight } = tableContainer;
        const threshold = 200;
        
        if (scrollTop + clientHeight >= scrollHeight - threshold) {
            this.loadMoreData();
        }
    });
}
```

### 必要な修正

1. **自動スクロール設定の反映**
   - `TableManager`の`autoScroll`設定値を確認
   - 無効の場合はスクロールイベントを発火しない

2. **手動ページング UI の追加**
   - ページネーションコントロールの追加
   - 「前へ」「次へ」ボタン
   - 現在のページ/総ページ数の表示

3. **ページ情報の表示**
   - 「全XX件中 XX-XX件を表示」のような情報表示